<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Undangan Pernikahan | Widya & Kaesar</title>
  <meta name="description" content="Undangan pernikahan digital yang elegan—cukup satu file HTML untuk GitHub Pages." />
  <style>
    /* =============================
       THEME & RESET
       - Satu file HTML (inline CSS & JS)
       - Mudah dikustom dengan CSS variables
       ============================= */
    :root {
      --bg: #0f172a;        /* Navy gelap */
      --bg-soft: #111827;   /* Hitam kebiruan */
      --paper: #f7f5f0;     /* Putih hangat */
      --ink: #0b1020;       /* Tinta */
      --gold: #caa24b;      /* Emas */
      --gold-2: #f2d492;    /* Emas terang */
      --accent: #6fb1a0;    /* Hijau kebiruan elegan */
      --muted: #9aa3b2;
      --ring: rgba(202, 162, 75, .35);
      --radius: 20px;
      --shadow: 0 8px 30px rgba(0,0,0,.25);
      --maxw: 1100px;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0; color: var(--paper); background: radial-gradient(1200px 800px at 20% -10%, rgba(202,162,75,.22), transparent 60%),
                 radial-gradient(1000px 600px at 110% 10%, rgba(111,177,160,.16), transparent 60%),
                 linear-gradient(180deg, #0d1324 0%, #0b1020 100%);
      font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
      line-height: 1.55;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
    }

    a { color: inherit; text-decoration: none; }
    img { max-width: 100%; display: block; }

    /* ==== Utilities ==== */
    .container { width: min(100%, var(--maxw)); margin: 0 auto; padding: 0 24px; }
    .section { padding: clamp(56px, 8vw, 96px) 0; position: relative; }
    .grid { display: grid; gap: 24px; }
    .center { text-align: center; }
    .muted { color: var(--muted); }

    .btn {
      --btn-bg: linear-gradient(135deg, var(--gold) 0%, var(--gold-2) 100%);
      --btn-ink: #1b263b;
      display: inline-flex; align-items: center; gap: 10px; justify-content: center;
      padding: 14px 22px; border-radius: 999px; color: var(--btn-ink);
      background: var(--btn-bg); border: none; cursor: pointer; font-weight: 700;
      letter-spacing: .4px; box-shadow: 0 4px 18px rgba(242,212,146,.25);
      transition: transform .2s ease, box-shadow .2s ease, filter .2s ease;
    }
    .btn:hover { transform: translateY(-2px); filter: saturate(1.05); box-shadow: 0 10px 28px rgba(242,212,146,.35); }
    .btn.ghost { background: transparent; color: var(--paper); border: 1px solid rgba(255,255,255,.2); box-shadow: none; }
    .btn.ghost:hover { border-color: rgba(255,255,255,.4); }

    .card {
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      border: 1px solid rgba(255,255,255,.12);
      backdrop-filter: blur(8px);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }

    .sep { height: 1px; background: linear-gradient(90deg, transparent, rgba(255,255,255,.15), transparent); margin: 24px 0; }

    .gold-text {
      background: linear-gradient(135deg, #f5e6bd 0%, #f0d594 30%, #d4b36b 60%, #b88d3b 100%);
      -webkit-background-clip: text; background-clip: text; color: transparent;
      text-shadow: 0 2px 0 rgba(0,0,0,.1);
    }

    /* ==== HERO ==== */
    header.hero {
      min-height: 92vh; display: grid; place-items: center; position: relative; overflow: clip;
    }
    /* Ornamen melengkung di atas */
    .hero::before, .hero::after {
      content: ""; position: absolute; inset: -20% -10% auto -10%; height: 60vh; z-index: 0;
      background: radial-gradient(closest-side, rgba(202,162,75,.12), transparent 70%),
                  conic-gradient(from 210deg at 40% 60%, rgba(202,162,75,.25), rgba(202,162,75,0) 35%),
                  conic-gradient(from 30deg at 60% 40%, rgba(111,177,160,.22), rgba(111,177,160,0) 40%);
      filter: blur(20px) saturate(1.2);
      mask: radial-gradient(60% 60% at 50% 0%, black, transparent);
    }
    .hero::after { inset: auto -15% -30% -15%; height: 80vh; transform: rotate(180deg); opacity: .7; }

    .hero-inner { position: relative; z-index: 2; }

    .title {
      font-size: clamp(50px, 8vw, 84px);
      margin: 0 0 8px; letter-spacing: .5px; line-height: 3.05;
    }
    .subtitle { font-size: clamp(16px, 2.4vw, 20px); letter-spacing: .2px; opacity: .9; }

    .stamp {
      margin: 28px auto 0; width: min(92vw, 560px);
      padding: 24px; border-radius: var(--radius);
      border: 1px dashed rgba(255,255,255,.18);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
    }

    .couple {
      display: grid; grid-template-columns: 1fr auto 1fr; gap: 12px; align-items: center; margin: 8px 0 6px;
      font-size: clamp(20px, 3vw, 28px); font-variant: small-caps; letter-spacing: 1px; opacity: .95;
    }
    .ampersand { font-size: 28px; opacity: .7; }

    .hero-actions { display: flex; gap: 12px; justify-content: center; margin-top: 28px; flex-wrap: wrap; }

    /* ==== COUNTDOWN ==== */
    .countdown { display: flex; gap: 14px; justify-content: center; margin-top: 22px; flex-wrap: wrap; }
    .timebox {
      width: 94px; aspect-ratio: 1; display: grid; place-items: center; border-radius: 16px;
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: var(--shadow);
    }
    .timebox h3 { margin: 0; font-size: 34px; }
    .timebox span { font-size: 12px; letter-spacing: 1px; text-transform: uppercase; color: var(--muted); }

    /* ==== DETAILS ==== */
    .details .grid { grid-template-columns: repeat(2, 1fr); }
    @media (max-width: 860px) { .details .grid { grid-template-columns: 1fr; } }

    .detail-card { padding: 24px; }
    .detail-card h3 { margin: 0 0 8px; font-size: 24px; }
    .detail-card p { margin: 4px 0; }

    /* ==== TIMELINE ==== */
    .timeline { position: relative; padding-left: 22px; }
    .timeline::before { content:""; position: absolute; inset: 0 auto 0 8px; width: 2px; background: linear-gradient(180deg, rgba(255,255,255,.5), transparent); }
    .step { position: relative; padding: 10px 0 10px 8px; }
    .step::before { content:""; position: absolute; left: -2px; top: 14px; width: 10px; height: 10px; border-radius: 50%; background: var(--gold); box-shadow: 0 0 0 5px var(--ring); }

    /* ==== GALLERY (tanpa gambar, polaroid placeholder svg) ==== */
    .gallery { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
    @media (max-width: 860px) { .gallery { grid-template-columns: 1fr 1fr; } }
    .polaroid { background: #fff; color: #111; border-radius: 8px; padding: 10px; transform: rotate(var(--r, -2deg)); box-shadow: 0 8px 20px rgba(0,0,0,.35); }
    .polaroid .ph { width: 100%; aspect-ratio: 4/3; background: linear-gradient(135deg, #e8e3d8, #c9dcd4);
      border-radius: 6px; display: grid; place-items: center; position: relative; overflow: hidden; }
    .ph svg { width: 48%; opacity: .75; }
    .polaroid small { display: block; text-align: center; padding: 8px 2px 4px; color: #444; }

    /* ==== FOOTER BAR ==== */
    .dock {
      position: sticky; bottom: 16px; display: grid; place-items: center; z-index: 9;
    }
    .dock .inner {
      display: inline-flex; gap: 10px; padding: 10px; background: rgba(17, 24, 39, .8);
      border: 1px solid rgba(255,255,255,.12); backdrop-filter: blur(10px);
      border-radius: 999px; box-shadow: var(--shadow);
    }

    /* ==== REVEAL ANIMATIONS ==== */
    .reveal { opacity: 0; transform: translateY(12px); transition: opacity .6s ease, transform .6s ease; }
    .reveal.visible { opacity: 1; transform: translateY(0); }

    /* ==== COVER (Buka Undangan) ==== */
    .cover {
      position: fixed; inset: 0; display: grid; place-items: center; z-index: 99; background:
        radial-gradient(1000px 500px at 80% -20%, rgba(202,162,75,.12), transparent 60%),
        radial-gradient(1000px 500px at 20% 120%, rgba(111,177,160,.16), transparent 60%),
        linear-gradient(180deg, #0d1324 0%, #0b1020 100%);
    }
    .cover .panel {
      text-align: center; padding: 26px; width: min(92vw, 560px);
      border-radius: var(--radius); border: 1px solid rgba(255,255,255,.15);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      box-shadow: var(--shadow);
    }
    .cover .panel h1 { margin: 8px 0 6px; }
    .cover .panel p { margin: 0 0 16px; }

    /* Accessibility helpers */
    .sr-only { position: absolute; width: 1px; height: 1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0; }
  </style>
</head>
<body>
  <!-- =============================
       DATA UNDANGAN — UBAH BAGIAN INI SAJA
       - Ganti nama, tanggal, lokasi, dan tautan RSVP/Maps
       - Format tanggal pakai zona WIB agar countdown akurat
       ============================= -->
  <script>
    const INVITATION = {
      coupleA: "Widya",
      coupleB: "Kaesar",
      // Gunakan format ISO dengan offset zona: +07:00 untuk WIB
      // Contoh: 12 Oktober 2025, 10:00 WIB
      eventStart: "2026-05-09T09:00:00+07:00",
      eventEnd:   "2025-05-09T14:00:00+07:00",
      venueName: "Dapur Pos Resto, Tangerang Selatan",
      venueAddress: "Jl. Swadaya No.1, Paku Jaya, Kec. Serpong Utara, Kota Tangerang Selatan",
      mapsUrl: "https://maps.app.goo.gl/h7Dm3KGxsuNZVNAH7",
      rsvpUrl: "https://forms.gle/",
      bankGiftLabel: "BCA a.n. Widya Amalia",
      bankGiftNumber: "1234567890",
      shareText: "Undangan Pernikahan Widya & Kaesar"
    };
  </script>

  <!-- =============================
       COVER – Buka Undangan
       ============================= -->
  <div class="cover" id="cover">
    <div class="panel">
      <div class="muted">Undangan Pernikahan</div>
      <h1 class="gold-text" style="font-size: clamp(36px,7vw,64px);">Widya & Kaesar</h1>
      <div style="opacity:.9">Minggu, 12 Oktober 2025 • Jakarta</div>
      <div class="sep"></div>
      <button class="btn" id="openInvite" aria-label="Buka Undangan">🎉&nbsp; Buka Undangan</button>
      <div class="muted" style="margin-top:10px; font-size: 12px;">Matikan mode senyap agar musik dapat diputar (opsional).</div>
    </div>
  </div>

  <!-- Optional music (tambahkan file Anda & hapus 'muted' default) -->
  <!-- Musik -->
  <audio id="bgm" preload="auto">
    <source src="The-Name-Of-Life.mp3" type="audio/mpeg">
    Browser Anda tidak mendukung audio.
  </audio>


  <script>
  const bgm = document.getElementById('bgm');
  document.getElementById('openInvite').addEventListener('click', () => {
    bgm.play().catch(()=>{});
  });
  </script>

  <!-- =============================
       HERO
       ============================= -->
  <header class="hero section" id="home" aria-label="Sampul undangan">
    <div class="hero-inner container center reveal">
      <p class="subtitle">Dengan memohon rahmat dan ridho Allah SWT, kami bermaksud mengundang Bapak/Ibu/Saudara/i untuk hadir pada acara pernikahan:</p>
      <h1 class="title gold-text" id="coupleNames">Nama & Nama</h1>
      <div class="stamp">
        <div class="couple"><span id="nameA">—</span> <span class="ampersand">&amp;</span> <span id="nameB">—</span></div>
        <div id="datePretty" class="muted">Sabtu, 09 Mei 2026 • 10.00 WIB</div>
        <div class="countdown" role="group" aria-label="Hitung mundur ke acara">
          <div class="timebox" aria-live="polite"><h3 id="d">0</h3><span>Hari</span></div>
          <div class="timebox"><h3 id="h">0</h3><span>Jam</span></div>
          <div class="timebox"><h3 id="m">0</h3><span>Menit</span></div>
          <div class="timebox"><h3 id="s">0</h3><span>Detik</span></div>
        </div>
        <div class="hero-actions">
          <a class="btn" href="#details">📍&nbsp; Lihat Detail</a>
          <a class="btn ghost" href="#rsvp">💌&nbsp; RSVP</a>
        </div>
      </div>
    </div>
  </header>

  <!-- =============================
       DETAILS
       ============================= -->
  <section class="section details" id="details" aria-label="Detail acara">
    <div class="container grid reveal">
      <div class="card detail-card">
        <h3 class="gold-text">Akad Nikah</h3>
        <p><strong>Waktu:</strong> Sabtu, 09 Mei 2026 • 09.00 WIB</p>
        <p><strong>Tempat:</strong> <span id="venueNameA">—</span></p>
        <p class="muted" id="venueAddrA">—</p>
      </div>
      <div class="card detail-card">
        <h3 class="gold-text">Resepsi</h3>
        <p><strong>Waktu:</strong> Sabtu, 09 Mei 2026 • 10.00 – 13.00 WIB</p>
        <p><strong>Tempat:</strong> <span id="venueNameB">—</span></p>
        <p class="muted" id="venueAddrB">—</p>
      </div>
    </div>

    <div class="container reveal" style="margin-top: 28px;">
      <div class="card detail-card center">
        <p class="muted" style="margin:0 0 10px">Tautan lokasi</p>
        <a class="btn" id="mapLink" target="_blank" rel="noopener">🗺️&nbsp; Buka Google Maps</a>
        <div class="hero-actions" style="margin-top: 14px;">
          <button class="btn ghost" onclick="downloadICS()">🗓️&nbsp; Tambah ke Kalender</button>
          <button class="btn ghost" onclick="shareInvite()">🔗&nbsp; Bagikan</button>
        </div>
      </div>
    </div>
  </section>

  <!-- =============================
       TIMELINE
       ============================= -->
  <section class="section" id="timeline" aria-label="Rundown acara">
    <div class="container reveal">
      <h2 class="center gold-text" style="margin:0 0 10px; font-size: clamp(28px, 4vw, 40px);">Rangkaian Acara</h2>
      <p class="center muted" style="margin:0 0 24px;">Terima kasih atas doa dan restunya. Berikut perkiraan jadwal:</p>
      <div class="card" style="padding: 18px 22px;">
        <div class="timeline">
          <div class="step"><strong>08.30</strong> • Kedatangan Tamu Keluarga</div>
          <div class="step"><strong>09.00</strong> • Akad Nikah</div>
          <div class="step"><strong>10.00</strong> • Pembukaan Resepsi</div>
          <div class="step"><strong>11.30</strong> • Foto & Ramah Tamah</div>
          <div class="step"><strong>13.00</strong> • Penutupan</div>
        </div>
      </div>
    </div>
  </section>

  <!-- =============================
       GALLERY (tanpa gambar fisik)
       ============================= -->
  <section class="section" id="gallery" aria-label="Galeri">
    <div class="container reveal">
      <h2 class="center gold-text" style="margin:0 0 18px; font-size: clamp(28px, 4vw, 40px);">Galeri</h2>
      <div class="gallery">
        <div class="polaroid" style="--r:-2deg">
          <div class="ph" aria-hidden="true">
            <svg viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="60" cy="60" r="58" stroke="#b88d3b" stroke-width="2"/>
              <text x="60" y="68" text-anchor="middle" font-size="44" fill="#b88d3b" font-family="Georgia">Z</text>
            </svg>
          </div>
          <small>Kenangan 1</small>
        </div>
        <div class="polaroid" style="--r:1deg">
          <div class="ph" aria-hidden="true">
            <svg viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="10" y="10" width="100" height="100" rx="16" stroke="#6fb1a0" stroke-width="2"/>
              <text x="60" y="68" text-anchor="middle" font-size="44" fill="#6fb1a0" font-family="Georgia">&amp;</text>
            </svg>
          </div>
          <small>Bersama</small>
        </div>
        <div class="polaroid" style="--r:3deg">
          <div class="ph" aria-hidden="true">
            <svg viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="60" cy="60" r="58" stroke="#b88d3b" stroke-width="2"/>
              <text x="60" y="68" text-anchor="middle" font-size="44" fill="#b88d3b" font-family="Georgia">P</text>
            </svg>
          </div>
          <small>Kenangan 2</small>
        </div>
      </div>
    </div>
  </section>

  <!-- =============================
       RSVP & UCAPAN
       ============================= -->
  <section class="section" id="rsvp" aria-label="RSVP dan Ucapan">
    <div class="container grid reveal" style="grid-template-columns: 1.2fr .8fr;">
      <div class="card detail-card">
        <h3 class="gold-text" style="margin-top:0">Konfirmasi Kehadiran</h3>
        <p>Mohon kesediaannya untuk konfirmasi kehadiran agar kami dapat mempersiapkan dengan baik.</p>
        <a class="btn" id="rsvpLink" target="_blank" rel="noopener">💌&nbsp; Isi Form RSVP</a>
        <div class="sep"></div>
        <p class="muted" style="margin-top:0">Atau hubungi kami via WhatsApp:</p>
        <div class="hero-actions" style="justify-content:flex-start">
          <a class="btn ghost" href="https://wa.me/6281234567890" target="_blank" rel="noopener">Pengantin</a>
          <a class="btn ghost" href="https://wa.me/6289876543210" target="_blank" rel="noopener">Keluarga</a>
        </div>
      </div>
      <div class="card detail-card">
        <h3 class="gold-text" style="margin-top:0">Kado Digital</h3>
        <p class="muted">Tanpa mengurangi rasa hormat, bagi yang ingin mengirimkan tanda kasih:</p>
        <p id="giftLabel"><strong>BCA a.n. Zisum</strong></p>
        <p id="giftNumber" style="font-size:24px; letter-spacing: 1px;">1234567890</p>
        <div class="hero-actions" style="justify-content:flex-start">
          <button class="btn ghost" onclick="copyGift()">Salin Nomor</button>
        </div>
      </div>
    </div>
  </section>

  <!-- =============================
       DOCK (Share / Calendar)
       ============================= -->
  <div class="dock" aria-label="Menu cepat">
    <div class="inner">
      <button class="btn ghost" onclick="shareInvite()">🔗 Bagikan</button>
      <button class="btn ghost" onclick="downloadICS()">🗓️ Kalender</button>
      <a class="btn" href="#rsvp">💌 RSVP</a>
    </div>
  </div>

  <footer class="section" aria-label="Penutup">
    <div class="container center reveal">
      <p class="muted">Merupakan suatu kehormatan dan kebahagiaan bagi kami apabila Bapak/Ibu/Saudara/i berkenan hadir untuk memberikan doa restu.</p>
      <p style="opacity:.9">Hormat kami,</p>
      <p class="gold-text" style="font-size: 22px; margin-top: 8px;" id="sign">Widya & Kaesar</p>
      <div class="sep"></div>
      <p class="muted" style="font-size:12px">Dibuat oleh Kaesar untuk Widya ❤</p>
    </div>
  </footer>

  <script>
    // =============================
    // HELPER – Format tanggal Indonesia
    // =============================
    const idID = new Intl.DateTimeFormat('id-ID', { dateStyle: 'full', timeStyle: 'short', timeZone: 'Asia/Jakarta' });

    function fmtPretty(dateISO) {
      const d = new Date(dateISO);
      // Contoh output: Minggu, 12 Oktober 2025 pukul 10.00
      const tanggal = new Intl.DateTimeFormat('id-ID', { weekday:'long', day:'2-digit', month:'long', year:'numeric', timeZone:'Asia/Jakarta' }).format(d);
      const waktu = new Intl.DateTimeFormat('id-ID', { hour:'2-digit', minute:'2-digit', timeZone:'Asia/Jakarta' }).format(d);
      return `${tanggal} • ${waktu} WIB`;
    }

    // =============================
    // INIT – Isi data undangan ke UI
    // =============================
    (function init() {
      const { coupleA, coupleB, eventStart, venueName, venueAddress, mapsUrl, rsvpUrl, bankGiftLabel, bankGiftNumber } = INVITATION;
      document.getElementById('coupleNames').textContent = `${coupleA} & ${coupleB}`;
      document.getElementById('nameA').textContent = coupleA;
      document.getElementById('nameB').textContent = coupleB;
      document.getElementById('datePretty').textContent = fmtPretty(eventStart);
      document.getElementById('venueNameA').textContent = venueName;
      document.getElementById('venueAddrA').textContent = venueAddress;
      document.getElementById('venueNameB').textContent = venueName;
      document.getElementById('venueAddrB').textContent = venueAddress;
      document.getElementById('mapLink').href = mapsUrl;
      document.getElementById('rsvpLink').href = rsvpUrl;
      document.getElementById('giftLabel').innerHTML = `<strong>${bankGiftLabel}</strong>`;
      document.getElementById('giftNumber').textContent = bankGiftNumber;
      document.getElementById('sign').textContent = `${coupleA} & ${coupleB}`;
    })();

    // =============================
    // COUNTDOWN
    // =============================
    (function countdown() {
      const t = new Date(INVITATION.eventStart).getTime();
      const el = { d: document.getElementById('d'), h: document.getElementById('h'), m: document.getElementById('m'), s: document.getElementById('s') };
      const tick = () => {
        const now = Date.now();
        let diff = Math.max(0, t - now);
        const d = Math.floor(diff / (1000*60*60*24)); diff -= d*24*60*60*1000;
        const h = Math.floor(diff / (1000*60*60)); diff -= h*60*60*1000;
        const m = Math.floor(diff / (1000*60)); diff -= m*60*1000;
        const s = Math.floor(diff / 1000);
        el.d.textContent = String(d);
        el.h.textContent = String(h).padStart(2,'0');
        el.m.textContent = String(m).padStart(2,'0');
        el.s.textContent = String(s).padStart(2,'0');
      };
      tick();
      setInterval(tick, 1000);
    })();

    // =============================
    // REVEAL ON SCROLL
    // =============================
    (function revealOnScroll(){
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('visible'); io.unobserve(e.target); } });
      }, { threshold: .12 });
      document.querySelectorAll('.reveal').forEach(el=> io.observe(el));
    })();

    // =============================
    // COVER – Buka Undangan
    // =============================
    (function cover(){
      const cover = document.getElementById('cover');
      const btn = document.getElementById('openInvite');
      const bgm = document.getElementById('bgm');
      btn.addEventListener('click', async () => {
        cover.style.opacity = '0';
        setTimeout(()=> cover.style.display = 'none', 400);
        try { bgm.muted = false; await bgm.play(); } catch (e) { /* abaikan jika tidak ada audio */ }
      });
    })();

    // =============================
    // SHARE
    // =============================
    async function shareInvite(){
      const url = location.href;
      const title = document.title;
      const text = INVITATION.shareText || title;
      if (navigator.share) {
        try { await navigator.share({ title, text, url }); } catch(e){}
      } else {
        try {
          await navigator.clipboard.writeText(url);
          alert('Tautan undangan telah disalin.');
        } catch(e){ prompt('Salin tautan undangan:', url); }
      }
    }

    // =============================
    // ADD TO CALENDAR (ICS)
    // =============================
    function toICSDate(d){
      // Format: YYYYMMDDTHHMMSSZ (UTC)
      const pad = n => String(n).padStart(2,'0');
      return d.getUTCFullYear()+
        pad(d.getUTCMonth()+1)+
        pad(d.getUTCDate())+'T'+
        pad(d.getUTCHours())+
        pad(d.getUTCMinutes())+
        pad(d.getUTCSeconds())+'Z';
    }
    function downloadICS(){
      const start = new Date(INVITATION.eventStart);
      const end = new Date(INVITATION.eventEnd || (start.getTime()+2*60*60*1000) && (new Date(start.getTime()+2*60*60*1000)));
      const ics = `BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Undangan//ID\nCALSCALE:GREGORIAN\nMETHOD:PUBLISH\nBEGIN:VEVENT\nUID:${Date.now()}@undangan\nDTSTAMP:${toICSDate(new Date())}\nDTSTART:${toICSDate(start)}\nDTEND:${toICSDate(end)}\nSUMMARY:Undangan Pernikahan ${INVITATION.coupleA} & ${INVITATION.coupleB}\nLOCATION:${INVITATION.venueName} - ${INVITATION.venueAddress}\nDESCRIPTION:${INVITATION.shareText}\nEND:VEVENT\nEND:VCALENDAR`;
      const blob = new Blob([ics], {type:'text/calendar;charset=utf-8'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'Undangan-Pernikahan.ics';
      document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
    }

    // =============================
    // COPY GIFT
    // =============================
    async function copyGift(){
      const acc = INVITATION.bankGiftNumber || '';
      try { await navigator.clipboard.writeText(acc); alert('Nomor rekening disalin. Terima kasih ❤'); }
      catch(e){ prompt('Salin nomor rekening:', acc); }
    }
  </script>
</body>
</html>
